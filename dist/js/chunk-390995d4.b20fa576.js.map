{"version":3,"sources":["webpack:///./src/views/crafted/pages/register/BinanceConnection.vue","webpack:///./src/views/crafted/pages/register/BinanceConnection.vue?7964","webpack:///./src/core/helpers/breadcrumb.ts"],"names":["class","id","ref","target","href","to","as","onSubmit","validation-schema","validationSchema","onInvalidSubmit","checkRequestMade","keysValid","errorMsg","includes","checkAvailability","formData","apiKey","type","placeholder","name","autocomplete","secretKey","disabled","components","Form","Field","route","router","params","email","push","loading","initialFormData","values","value","requestObj","passwordRepeat","ApiService","post","then","response","showClose","message","duration","setTimeout","window","location","catch","err","error","finally","console","log","shape","strict","matches","max","min","required","label","__exports__","render","setCurrentPageBreadcrumbs","pageTitle","breadcrumbs","dispatch","SET_BREADCRUMB_ACTION","title","pageBreadcrumbPath","setCurrentPageTitle"],"mappings":"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","file":"js/chunk-390995d4.b20fa576.js","sourcesContent":["<script>\nimport { computed, defineComponent, onMounted, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { Form, ErrorMessage, Field } from \"vee-validate\";\nimport { StepperComponent } from \"@/assets/ts/components\";\nimport { ElMessage } from \"element-plus\";\nimport { useForm } from \"vee-validate\";\nimport Swal from \"sweetalert2/dist/sweetalert2.min.js\";\nimport * as Yup from \"yup\";\nimport ApiService from \"@/core/services/ApiService\";\n// import Step1 from \"@/components/wizard/steps/Step1.vue\";\n// import Step2 from \"@/components/wizard/steps/Step2.vue\";\n// import Step3 from \"@/components/wizard/steps/Step3.vue\";\n// import Step4 from \"@/components/wizard/steps/Step4.vue\";\n// import Step5 from \"@/components/wizard/steps/Step5.vue\";\nimport { setCurrentPageBreadcrumbs } from \"@/core/helpers/breadcrumb\";\n\nexport default defineComponent({\n  name: \"SignUp\",\n  components: {\n    Form,\n    Field,\n    // ErrorMessage,\n    // Step1,\n    // Step2,\n    // Step3,\n    // Step4,\n    // Step5,\n  },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n\n    if (!route.params.email) {\n      router.push({ name: \"RegisterBasicInfo\" });\n    }\n    const formRef = ref(null);\n    const loading = ref(false);\n\n    const initialFormData = {\n      apiKey: \"\",\n      secretKey: \"\",\n    };\n    const formData = ref({ ...initialFormData });\n\n    function onSubmit(values) {\n      if (checkRequestMade.value && keysValid.value) {\n        const requestObj = {\n          apiKey: formData.value.apiKey,\n          secretKey: formData.value.secretKey,\n          ...route.params,\n        };\n        delete requestObj.passwordRepeat;\n\n        ApiService.post(`/auth/register`, requestObj)\n          .then((response) => {\n            // ElMessage.success(response.message || \"Success!\");\n            ElMessage({\n              showClose: true,\n              message: response.message || \"Success!\",\n              type: \"success\",\n              duration: 10000,\n            });\n            setTimeout(() => {\n              window.location.href = \"/\";\n            }, 10000);\n          })\n          .catch((err) => {\n            ElMessage.error(err.message || \"Server error\");\n          })\n          .finally(() => {\n            checkRequestMade.value = true;\n            loading.value = false;\n          });\n      }\n    }\n\n    function onInvalidSubmit() {\n      console.log(\"in valid\");\n    }\n\n    const validationSchema = Yup.object().shape({\n      apiKey: Yup.string()\n        .strict(true)\n        .matches(/^\\S+$/, \"Api key must not contain spaces\")\n        .max(80, \"Api key should be max 40 characters\")\n        .min(50, \"Api key should be min 15 characters\")\n        .required()\n        .label(\"Api key\"),\n      secretKey: Yup.string()\n        .strict(true)\n        .matches(/^\\S+$/, \"Secret key must not contain spaces\")\n        .max(80, \"Secret key should be max 40 characters\")\n        .min(50, \"Secret key should be min 15 characters\")\n        .required()\n        .label(\"Secret key\"),\n    });\n\n    const checkRequestMade = ref(false);\n    const keysValid = ref(false);\n    const errorMsg = ref(false);\n\n    function checkAvailability() {\n      loading.value = true;\n      checkRequestMade.value = false;\n\n      if (formData.value.apiKey && formData.value.secretKey) {\n        console.log(\"gonder\");\n\n        ApiService.post(`/auth/check-apikey-secretkey`, {\n          apiKey: formData.value.apiKey,\n          secretKey: formData.value.secretKey,\n        })\n          .then((response) => {\n            keysValid.value = response.keysValid;\n            errorMsg.value = response.errorMsg;\n            // ElMessage.success(response.message || \"Trade created successfully!\");\n            // formRef.value.resetForm();\n          })\n          .catch((err) => {\n            ElMessage.error(err.message || \"Server error\");\n          })\n          .finally(() => {\n            checkRequestMade.value = true;\n            loading.value = false;\n          });\n      } else {\n        console.log(\"biesyler eksik\");\n        return;\n      }\n    }\n\n    return {\n      checkRequestMade,\n      keysValid,\n      errorMsg,\n      formData,\n      validationSchema,\n      onSubmit,\n      onInvalidSubmit,\n      checkAvailability,\n      loading,\n    };\n  },\n});\n</script>\n<template>\n  <div class=\"card\">\n    <div class=\"card-body shadow-sm\">\n      <div class=\"mb-10 text-center\">\n        <h1 class=\"text-dark mb-3\">Create an Account</h1>\n\n        <div class=\"text-gray-400 fw-bold fs-4\">\n          Already have an account?\n\n          <router-link to=\"/sign-in\" class=\"link-primary fw-bolder\">\n            Sign in here\n          </router-link>\n        </div>\n      </div>\n\n      <div\n        class=\"stepper stepper-links d-flex flex-column\"\n        id=\"kt_create_account_stepper\"\n        ref=\"horizontalWizardRef\"\n      >\n        <div class=\"stepper-nav py-5 mt-5\">\n          <div class=\"stepper-item text-gray-400\" data-kt-stepper-element=\"nav\">\n            <h3 class=\"stepper-title text-gray-400\">Basic Info</h3>\n          </div>\n\n          <div class=\"stepper-item\" data-kt-stepper-element=\"nav\">\n            <h3 class=\"stepper-title text-gray-400\">E-mail Verification</h3>\n          </div>\n\n          <div class=\"stepper-item\" data-kt-stepper-element=\"nav\">\n            <h3 class=\"stepper-title text-gray-400\">User Name</h3>\n          </div>\n\n          <div class=\"stepper-item current\" data-kt-stepper-element=\"nav\">\n            <h3 class=\"stepper-title\">Binance Connection</h3>\n          </div>\n        </div>\n\n        <Form\n          class=\"mx-auto mw-600px w-100 pt-15 pb-10\"\n          ref=\"formRef\"\n          as=\"el-form\"\n          @submit=\"onSubmit\"\n          :validation-schema=\"validationSchema\"\n          @invalid-submit=\"onInvalidSubmit\"\n        >\n          <div class=\"mb-6\">\n            <span class=\"form-text\">\n              You can <strong>watch</strong> how to generate\n              <strong>Api key</strong> and <strong>Secret key</strong>\n              in\n              <a\n                target=\"_blank\"\n                href=\"https://www.youtube.com/watch?v=5xIQCeQuxIY\"\n                >this youtube video.</a\n              >\n            </span>\n          </div>\n          <div class=\"fv-row mb-7\">\n            <div class=\"\">\n              <label class=\"form-label fw-bolder text-dark fs-6\">Api key</label>\n\n              <span class=\"badge badge-light-primary mx-2\" v-if=\"loading\"\n                >we are checking...</span\n              >\n              <span v-else>\n                <span\n                  v-if=\"checkRequestMade && keysValid\"\n                  class=\"badge badge-light-success mx-2\"\n                  >Everything looks good</span\n                >\n                <span\n                  v-if=\"checkRequestMade && !keysValid\"\n                  class=\"badge badge-light-danger mx-2\"\n                  >{{ errorMsg }}</span\n                >\n\n                <span v-if=\"checkRequestMade && !keysValid\">\n                  <span\n                    v-if=\"!errorMsg.includes('You should enable')\"\n                    class=\"form-text text-muted\"\n                  >\n                    Please check your keys.\n                  </span>\n                  <a v-else @click=\"checkAvailability\" class=\"cursor-pointer\"\n                    >check again</a\n                  >\n                </span>\n              </span>\n            </div>\n            <Field\n              v-model=\"formData.apiKey\"\n              class=\"form-control form-control-lg form-control-solid\"\n              type=\"text\"\n              placeholder=\"\"\n              name=\"apiKey\"\n              autocomplete=\"off\"\n              @input=\"checkAvailability\"\n            />\n            <!-- <div class=\"fv-plugins-message-container\">\n              <div class=\"fv-help-block\">\n                <ErrorMessage\n                  class=\"fv-plugins-message-container invalid-feedback\"\n                  name=\"apiKey\"\n                />\n              </div>\n            </div> -->\n          </div>\n          <div class=\"fv-row mb-7\">\n            <div class=\"\">\n              <label class=\"form-label fw-bolder text-dark fs-6\"\n                >Secret key</label\n              >\n            </div>\n            <Field\n              v-model=\"formData.secretKey\"\n              class=\"form-control form-control-lg form-control-solid\"\n              type=\"text\"\n              placeholder=\"\"\n              name=\"secretKey\"\n              autocomplete=\"off\"\n              @input=\"checkAvailability\"\n            />\n            <!-- <div class=\"fv-plugins-message-container\">\n              <div class=\"fv-help-block\">\n                <ErrorMessage\n                  class=\"fv-plugins-message-container invalid-feedback\"\n                  name=\"secretKey\"\n                />\n              </div>\n            </div> -->\n          </div>\n\n          <!-- <div\n            class=\"\n              notice\n              d-flex\n              bg-light-warning\n              rounded\n              border-warning border border-dashed\n              p-6\n              mb-8\n            \"\n          >\n            <span class=\"svg-icon svg-icon-2tx svg-icon-warning me-4\">\n              <inline-svg src=\"media/icons/duotune/general/gen044.svg\" />\n            </span>\n\n            <div class=\"d-flex flex-stack flex-grow-1\">\n              <div class=\"fw-bold\">\n                <h4 class=\"text-gray-800 fw-bolder\">We need your attention!</h4>\n                <div class=\"fs-6 text-gray-600\">\n                  To start using great tools, please, please\n                  <a href=\"#\" class=\"fw-bolder\">Create Team Platform</a>\n                </div>\n              </div>\n            </div>\n          </div> -->\n          <div class=\"d-flex justify-content-center\">\n            <!-- <button\n              id=\"kt_sign_up_submit\"\n              ref=\"submitButton\"\n              type=\"submit\"\n              class=\"btn btn-lg btn-primary\"\n            >\n              <span class=\"indicator-label\"> Submit </span>\n              <span class=\"indicator-progress\">\n                Please wait...\n                <span\n                  class=\"spinner-border spinner-border-sm align-middle ms-2\"\n                ></span>\n              </span>\n            </button> -->\n\n            <div>\n              <button\n                :disabled=\"!checkRequestMade || !keysValid\"\n                id=\"kt_sign_up_submit\"\n                ref=\"submitButton\"\n                type=\"submit\"\n                class=\"btn btn-lg btn-success ms-3\"\n              >\n                <span class=\"indicator-label\">Complete Registration</span>\n                <span class=\"indicator-progress\">\n                  Please wait...\n                  <span\n                    class=\"spinner-border spinner-border-sm align-middle ms-2\"\n                  ></span>\n                </span>\n              </button>\n            </div>\n          </div>\n          <div class=\"text-center\"></div>\n        </Form>\n      </div>\n    </div>\n  </div>\n</template>\n\n","import { render } from \"./BinanceConnection.vue?vue&type=template&id=55ce2262\"\nimport script from \"./BinanceConnection.vue?vue&type=script&lang=js\"\nexport * from \"./BinanceConnection.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/beratuslu/Desktop/fe-coinvestr/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import store from \"@/store\";\nimport { Actions } from \"@/store/enums/StoreEnums\";\n\n/**\n * Sets current page breadcrumbs\n * @param {string} pageTitle Current page title\n * @param {Array<string>} breadcrumbs Current page breadcrumbs\n */\nexport const setCurrentPageBreadcrumbs = (\n  pageTitle: string,\n  breadcrumbs: Array<string>\n): void => {\n  store.dispatch(Actions.SET_BREADCRUMB_ACTION, {\n    title: pageTitle,\n    pageBreadcrumbPath: breadcrumbs,\n  });\n};\n\n/**\n * Sets current page breadcrumbs\n * @param {string} title Current page title name\n */\nexport const setCurrentPageTitle = (title: string): void => {\n  store.dispatch(Actions.SET_BREADCRUMB_ACTION, {\n    title: title,\n  });\n};\n"],"sourceRoot":""}